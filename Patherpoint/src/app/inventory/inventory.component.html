<div id="items" class="attributeBox">
    <h3>Inventory</h3>
    <div class="loading" *ngIf="still_loading()">Loading</div>
    <div *ngIf="!still_loading()">
        <h3>Cash</h3>
        <div class="list-item">
            <strong>P</strong>
            <input class="number" type="number"
                value="{{this.characterService.get_Character().cash[0]}}" disabled>
            <strong>G</strong>
            <input class="number" type="number"
                value="{{this.characterService.get_Character().cash[1]}}" disabled>
            <strong>S</strong>
            <input class="number" type="number"
                value="{{this.characterService.get_Character().cash[2]}}" disabled>
            <strong>C</strong>
            <input class="number" type="number"
                value="{{this.characterService.get_Character().cash[3]}}" disabled>
        </div> 
        <h3>Bulk</h3>
        <div *ngFor="let bulk of get_Bulk()">
            <div class="list-item">
                <strong>Bulk</strong>
                <input class="number" type="number"
                    value="{{bulk.$current}}" disabled>
                <div class="row" *ngIf="get_ConditionsShowingOn('Bulk').length">
                    <cite [className]="(condition.buff) ? 'bonus' : 'penalty'" *ngFor="let condition of get_ConditionsShowingOn('Bulk')" [title]="condition.desc">{{condition.name}}&nbsp;</cite>
                    <cite class="penalty" *ngIf="bulk.$current > bulk.$max.value" title="You can't carry this much Bulk.">Overencumbered&nbsp;</cite>
                </div>
            </div>
            <div class="list-item">
                <strong>Encumbrance</strong>
                <input class="number" type="number"
                [className]="(bulk.$penalty.length) ? 'penalty' : (bulk.$bonus.length) ? 'bonus' : ''"
                    value="{{bulk.$encumbered.value}}"
                    title="{{bulk.$encumbered.desc}}"
                    disabled>
                <strong>Maximum</strong>
                <input class="number" type="number"
                [className]="(bulk.$penalty.length) ? 'penalty' : (bulk.$bonus.length) ? 'bonus' : ''"
                    value="{{bulk.$max.value}}"
                    title="{{bulk.$max.desc}}"
                    disabled>
                <div class="row" *ngIf="bulk.$effects.length">
                    <cite *ngFor="let effect of bulk.$effects"
                        [className]="effect.penalty ? 'penalty' : 'bonus'">
                        {{effect.value}} ({{effect.source}})&nbsp;
                    </cite>
                </div>
                <div class="row">
                    <cite *ngFor="let feat of get_FeatsShowingOn('Max Bulk')" [title]="feat.desc">{{feat.name}}&nbsp;</cite>
                    <cite *ngFor="let condition of get_ConditionsShowingOn('Max Bulk')" [className]="(condition.buff) ? 'bonus' : 'penalty'" [title]="condition.desc">{{condition.name}}&nbsp;</cite>
                </div>
            </div>
        </div>
        <h3>Items</h3>
        <button class="list-item" (click)="toggleItemsMenu()">Get Items</button>
        <h3>Weapons</h3>
        <div class="list-item" *ngFor="let weapon of get_InventoryItems().weapon">
                <strong>{{weapon.name}}</strong>&nbsp;{{weapon.prof}} Weapon
                <input type="checkbox" [(ngModel)]="weapon.equip" (ngModelChange)="onChange(weapon)">Equip
                <button (click)="drop_InventoryItem(weapon)">Drop</button>
            <div class="row" *ngIf="weapon.traits.length">
                <cite *ngFor="let trait of weapon.traits" title="{{get_Traits(trait)[0].description}}">&nbsp;{{trait}}</cite>
            </div>
            <div class="row">
                <input type="checkbox" [(ngModel)]="weapon.showNotes">Notes
                <input type="checkbox" [(ngModel)]="weapon.showRunes">Runes
                <input type="checkbox" [(ngModel)]="weapon.showMaterial">Material
                <input type="checkbox" [(ngModel)]="weapon.showDesc">Description
            </div>
            <div class="row">
                <input type="textarea" class="fullwidth" [(ngModel)]="weapon.notes" *ngIf="weapon.showNotes">
            </div>
        </div>
        <h3>Armor</h3>
        <div class="list-item" *ngFor="let armor of get_InventoryItems().armor">
            <strong>{{armor.name}}</strong>&nbsp;{{armor.prof}}{{(armor.prof != "Unarmored") ? " Armor" : ""}}
            <input type="checkbox" [(ngModel)]="armor.equip" (ngModelChange)="onChange(armor)">Equip
            <button (click)="drop_InventoryItem(armor)">Drop</button>
            <div class="row" *ngIf="armor.traits.length">
                <cite *ngFor="let trait of armor.traits" title="{{get_Traits(trait)[0].description}}">&nbsp;{{trait}}</cite>
            </div>
            <div class="row">
                <input type="checkbox" [(ngModel)]="armor.showNotes">Notes
                <input type="checkbox" [(ngModel)]="armor.showRunes">Runes
                <input type="checkbox" [(ngModel)]="armor.showMaterial">Material
                <input type="checkbox" [(ngModel)]="armor.showDesc">Description
            </div>
            <div class="row">
                <input type="textarea" class="fullwidth" [(ngModel)]="armor.notes" *ngIf="armor.showNotes">
            </div>
        </div>
        <h3>Shields</h3>
        <div class="list-item" *ngFor="let shield of get_InventoryItems().shield">
            <strong>{{shield.name}}</strong>
            <input type="checkbox" [(ngModel)]="shield.equip" (ngModelChange)="onChange(shield)">Equip
            <button (click)="drop_InventoryItem(shield)">Drop</button>
            <div class="row" *ngIf="shield.traits.length">
                <cite *ngFor="let trait of shield.traits" title="{{get_Traits(trait)[0].description}}">&nbsp;{{trait}}</cite>
            </div>
            <div class="row">
                <input type="checkbox" [(ngModel)]="shield.showNotes">Notes
                <input type="checkbox" [(ngModel)]="shield.showRunes">Runes
                <input type="checkbox" [(ngModel)]="shield.showMaterial">Material
                <input type="checkbox" [(ngModel)]="shield.showDesc">Description
            </div>
            <div class="row">
                <input type="textarea" class="fullwidth" [(ngModel)]="shield.notes" *ngIf="shield.showNotes">
            </div>
        </div>
    </div>
</div>