<div class="corner-button-tray">
    <app-minimize-button
        *ngIf="shouldShowMinimizeButton"
        [ngModel]="(isMinimized$ | async) ?? false"
        (ngModelChange)="toggleMinimized($event)"
    ></app-minimize-button>
</div>

<div
    id="{{creature}}-abilities-height"
    class="attributeBox"
>
    <header class="sectionHeader box-header">Abilities</header>

    <ng-container *ngFor="let ability of abilityValues$ | async; trackBy:trackByIndex;">

        <div class="list-item minimized-hide">
            <app-attribute-value
                [title]="ability.ability.name"
                [customEffectsTarget]="{ creature: creature, target: ability.ability.name }"
                [value]="ability.value.result"
                [bonuses]="ability.value.bonuses"
            ></app-attribute-value>

            <app-tags
                *ngIf="(isMinimized$ | async) === false"
                [creature]="creature"
                [objectName]="ability.ability.name"
                [showTraits]="true"
                [showFeats]="true"
                [showItems]="true"
                [showActivities]="true"
                [showConditions]="true"
                [showEffects]="true"
            ></app-tags>
        </div>

        <div
            class="list-item"
            [ngClass]="{'minimized-hide':(ability.mod.result === 0)}"
        >
            <app-attribute-value
                [title]="ability.ability.name + ' Modifier'"
                [customEffectsTarget]="{ creature: creature, target: ability.ability.name + ' Modifier' }"
                [value]="ability.mod.result"
                [bonuses]="ability.mod.bonuses"
            ></app-attribute-value>

            <app-tags
                [creature]="creature"
                [objectName]="ability.ability.name + ' Modifier'"
                [showTraits]="true"
                [showFeats]="true"
                [showItems]="true"
                [showActivities]="true"
                [showConditions]="true"
                [showEffects]="true"
            ></app-tags>
        </div>
    </ng-container>
</div>
