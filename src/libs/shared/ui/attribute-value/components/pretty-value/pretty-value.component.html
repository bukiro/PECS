@if (value$$() !== undefined) {
    <div class="value">
        <div
            class="value__value"
            [ngClass]="{
                'background-color-default': opaque$$(),
                'background-color-penalty': isPenalty$$(),
                'background-color-bonus': isBonus$$(),
                'background-color-absolute': isAbsolute$$(),
            }"
            [ngbPopover]="BonusesTemplate"
            [disablePopover]="!bonuses$$().length"
        >
            {{ value$$() }}
        </div>
    </div>
}

<ng-template #BonusesTemplate>
    @if (bonuses$$().length) {
        <app-bonus-list [bonuses]="bonuses$$()" />
    }

    @if (clickLabel$$(); as clickLabel) {
        <div>
            {{ clickLabel }}
        </div>
    }
</ng-template>
