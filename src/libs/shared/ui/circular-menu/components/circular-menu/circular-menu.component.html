@if (showOptions) {
    <div
        class="click-outside-overlay"
        (click)="toggleOptions()"
    ></div>
}

@if (options) {
    @for (option of options; track $index) {
        <div
            class="option option--of-{{ options.length }} option--index-{{
                $index
            }} option--left-{{ option.left }}"
            [ngClass]="{'option--active': showOptions }"
            [style.top]="option.top + 'px'"
            [style.left]="option.left + 'px'"
            [style.transform]="showOptions ? option.transform : 'none'"
        >
            <div
                #option
                class="option__inner-button"
                [ngbTooltip]="option.disabled"
            >
                <app-button
                    tabindex="-1"
                    [toggled]="option.toggled"
                    [circle]="option.circle"
                    [disabled]="option.disabled"
                    (clicked)="
                        option.onClick();
                        option.closeAfter ? toggleOptions() : null
                    "
                >
                    @if (option.label) {
                        <span>{{ option.label }}</span>
                    }
                    @if (option.icon) {
                        <i [ngClass]="option.icon"></i>
                    }
                </app-button>
            </div>
        </div>
    }
}

<div
    #centerButton
    class="button-container"
>
    <app-button
        #centerButton
        class="button button--center"
        [label]="label"
        [hideLabel]="shouldHideLabel"
        [circle]="isCircle"
        [compact]="isCompact"
        [disabled]="isDisabled"
        [toggled]="isToggled"
        [processing]="isProcessing"
        [noOutline]="isNotOutlined"
        [ghost]="isGhost"
        (clicked)="toggleOptions()"
    >
        <ng-content />
    </app-button>
</div>
