<!-- Changing Blade Ally Status -->
<div class="list-item newrow">
    <div class="newrow">
        <strong>Rune Effect</strong>

        <select
            aria-label="Select blade ally rune effect"
            [(ngModel)]="newPropertyRune"
            (ngModelChange)="onSelectBladeAllyRune()"
        >
            <ng-container *ngFor="let rune of initialPropertyRunes(); let initialRuneIndex = index; trackBy:trackByIndex;">
                <option
                    *ngIf="initialRuneIndex === 0"
                    [ngValue]="rune"
                    [selected]=!item.propertyRunes[0]
                >
                    <!-- Blank option to deselect -->
                </option>

                <optgroup
                    *ngIf="initialRuneIndex === 1"
                    label="Current rune"
                >
                    <option [ngValue]="rune">{{rune.rune.name}}</option>
                </optgroup>
            </ng-container>

            <ng-container *ngIf="availableWeaponPropertyRunes() as availableWeaponPropertyRunes">
                <optgroup
                    *ngIf="availableWeaponPropertyRunes.length"
                    label="Available runes"
                >
                    <option
                        *ngFor="let rune of availableWeaponPropertyRunes; trackBy:trackByIndex;"
                        [ngValue]="rune"
                        [disabled]="rune.disabled"
                    >
                        {{rune.rune.amount > 1 ? rune.rune.amount+" " : ""}}{{rune.rune.name}}
                    </option>
                </optgroup>
            </ng-container>
        </select>
    </div>
</div>
