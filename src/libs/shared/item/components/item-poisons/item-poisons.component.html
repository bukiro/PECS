<!-- Adding Poisons -->
<ng-container *ngIf="availablePoisons() as availablePoisons">
    <div
        *ngIf="availablePoisons.length > 1 || item.poisonsApplied.length"
        class="list-item"
    >
        <div class="newrow">
            <strong title="{{item.poisonsApplied.length ? 'Applying a new poison will waste the currently applied poison.' : ''}}">
                {{item.poisonsApplied.length ? 'Replace' : 'Apply'}} poison
            </strong>

            <select
                aria-label="Select poison"
                [(ngModel)]="newPoison"
                (ngModelChange)="onSelectPoison()"
            >
                <option
                    *ngFor="let poisonSet of availablePoisons; trackBy:trackByIndex;"
                    [ngValue]="poisonSet"
                >
                    {{poisonSet.poison.amount !== 1 ? poisonSet.poison.amount : ''}}
                    {{poisonSet.poison.effectiveName$()}}
                </option>
            </select>
        </div>

        <div
            *ngIf="item.poisonsApplied.length"
            class="newrow"
        >
            <strong>Applied poison</strong>

            <div
                *ngFor="let poison of item.poisonsApplied; let index = index; trackBy:trackByIndex;"
                class="newrow"
            >
                <span>{{poison.effectiveName$()}}</span>

                <button
                    type="button"
                    class="lower"
                    (click)="onRemovePoison(index)"
                >
                    Spend/Remove
                </button>
            </div>
        </div>
    </div>
</ng-container>
