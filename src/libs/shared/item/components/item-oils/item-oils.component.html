<!-- Adding Oils -->
@if (availableOils(); as availableOils) {
    @if (availableOils.length > 1 || item.oilsApplied.length) {
        <div class="list-item">
            <div class="newrow">
                <strong>Apply oil</strong>

                <select
                    aria-label="Select oil"
                    [(ngModel)]="newOil"
                    (ngModelChange)="onSelectOil()"
                >
                    @for (oilSet of availableOils; track $index) {
                        <option [ngValue]="oilSet">
                            {{
                                oilSet.oil.amount !== 1
                                    ? oilSet.oil.amount + " "
                                    : ""
                            }}{{ oilSet.oil.effectiveName$$() }}
                        </option>
                    }
                </select>
            </div>

            @if (item.oilsApplied.length) {
                <div class="newrow">
                    <strong>Applied oils</strong>

                    @for (
                        oil of item.oilsApplied;
                        track index;
                        let index = $index
                    ) {
                        <div class="newrow">
                            <span>
                                {{ oil.effectiveName$() | async }} ({{
                                    durationDescription$(oil.duration) | async
                                }})
                            </span>

                            <button
                                class="lower"
                                (click)="onRemoveOil(index)"
                            >
                                Remove
                            </button>
                        </div>
                    }
                </div>
            }
        </div>
    }
}
