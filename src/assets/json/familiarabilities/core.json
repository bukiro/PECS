[
    {
        "name": "Amphibious: Swim",
        "desc": "The familiar gains a swim Speed of 25 feet.",
        "sourceBook": "Core Rulebook ",
        "_extensionFileName": "core",
        "traits": [
            "Familiar Ability"
        ],
        "shortdesc": "The familiar gains a swim Speed of 25 feet.",
        "specialreq": "familiar.speeds[1].name == 'Land Speed'",
        "specialreqdesc": "land-based familiar",
        "effects": [
            {
                "affected": "Swim Speed",
                "setValue": "25"
            }
        ]
    },
    {
        "name": "Amphibious: Land",
        "desc": "The familiar gains a Speed of 25 feet.",
        "sourceBook": "Core Rulebook ",
        "_extensionFileName": "core",
        "traits": [
            "Familiar Ability"
        ],
        "shortdesc": "The familiar gains a Speed of 25 feet.",
        "specialreq": "familiar.speeds[1].name == 'Swim Speed'",
        "specialreqdesc": "water-based familiar",
        "effects": [
            {
                "affected": "Land Speed",
                "setValue": "25"
            }
        ]
    },
    {
        "name": "Burrower",
        "desc": "The familiar gains a burrow Speed of 5 feet, allowing it to dig Tiny holes.",
        "sourceBook": "Core Rulebook ",
        "_extensionFileName": "core",
        "traits": [
            "Familiar Ability"
        ],
        "shortdesc": "The familiar gains a burrow Speed of 5 feet, allowing it to dig Tiny holes.",
        "effects": [
            {
                "affected": "Burrow Speed",
                "setValue": "5"
            }
        ]
    },
    {
        "name": "Climber",
        "desc": "The familiar gains a climb Speed of 25 feet.",
        "sourceBook": "Core Rulebook ",
        "_extensionFileName": "core",
        "traits": [
            "Familiar Ability"
        ],
        "shortdesc": "The familiar gains a climb Speed of 25 feet.",
        "effects": [
            {
                "affected": "Climb Speed",
                "setValue": "25"
            }
        ]
    },
    {
        "name": "Damage Avoidance",
        "desc": "Choose one type of save. The familiar takes no damage when it succeeds at that type of save; this doesn't prevent effects other than damage.",
        "sourceBook": "Core Rulebook ",
        "_extensionFileName": "core",
        "subTypes": true,
        "traits": [
            "Familiar Ability"
        ],
        "shortdesc": "Choose one type of save. The familiar takes no damage when it succeeds at that type of save; this doesn't prevent effects other than damage."
    },
    {
        "name": "Damage Avoidance: Fortitude",
        "desc": "The familiar takes no damage when it succeeds at a Fortitude save; this doesn't prevent effects other than damage.",
        "sourceBook": "Core Rulebook ",
        "_extensionFileName": "core",
        "subType": "Fortitude",
        "superType": "Damage Avoidance",
        "traits": [
            "Familiar Ability"
        ],
        "shortdesc": "The familiar takes no damage when it succeeds at a Fortitude save; this doesn't prevent effects other than damage.",
        "hints": [
            {
                "desc": "The familiar takes no damage when it succeeds at a Fortitude save; this doesn't prevent effects other than damage.",
                "showon": "Fortitude"
            }
        ]
    },
    {
        "name": "Damage Avoidance: Reflex",
        "desc": "The familiar takes no damage when it succeeds at a Reflex save; this doesn't prevent effects other than damage.",
        "sourceBook": "Core Rulebook ",
        "_extensionFileName": "core",
        "subType": "Reflex",
        "superType": "Damage Avoidance",
        "traits": [
            "Familiar Ability"
        ],
        "shortdesc": "The familiar takes no damage when it succeeds at a Reflex save; this doesn't prevent effects other than damage.",
        "hints": [
            {
                "desc": "The familiar takes no damage when it succeeds at a Reflex save; this doesn't prevent effects other than damage.",
                "showon": "Reflex"
            }
        ]
    },
    {
        "name": "Damage Avoidance: Will",
        "desc": "The familiar takes no damage when it succeeds at a Will save; this doesn't prevent effects other than damage.",
        "sourceBook": "Core Rulebook ",
        "_extensionFileName": "core",
        "subType": "Will",
        "superType": "Damage Avoidance",
        "traits": [
            "Familiar Ability"
        ],
        "shortdesc": "The familiar takes no damage when it succeeds at a Will save; this doesn't prevent effects other than damage.",
        "hints": [
            {
                "desc": "The familiar takes no damage when it succeeds at a Will save; this doesn't prevent effects other than damage.",
                "showon": "Will"
            }
        ]
    },
    {
        "name": "Darkvision",
        "desc": "The familiar gains darkvision.",
        "sourceBook": "Core Rulebook ",
        "_extensionFileName": "core",
        "traits": [
            "Familiar Ability"
        ],
        "shortdesc": "The familiar gains darkvision.",
        "senses": [
            "Darkvision"
        ]
    },
    {
        "name": "Fast Movement",
        "desc": "Increase one of the familiar's Speeds from 25 feet to 40 feet.",
        "sourceBook": "Core Rulebook ",
        "_extensionFileName": "core",
        "subTypes": true,
        "traits": [
            "Familiar Ability"
        ],
        "shortdesc": "Increase one of the familiar's Speeds from 25 feet to 40 feet."
    },
    {
        "name": "Fast Movement: Climb",
        "desc": "The familiar's Climb Speed increases from 25 feet to 40 feet.",
        "sourceBook": "Core Rulebook ",
        "_extensionFileName": "core",
        "subType": "Climb",
        "superType": "Fast Movement",
        "traits": [
            "Familiar Ability"
        ],
        "shortdesc": "The familiar's Climb Speed increases from 25 feet to 40 feet.",
        "specialreq": "familiar.speeds.filter(speed => speed.name == 'Climb Speed').length",
        "specialreqdesc": "Climb Speed",
        "effects": [
            {
                "affected": "Climb Speed",
                "setValue": "40"
            }
        ]
    },
    {
        "name": "Fast Movement: Fly",
        "desc": "The familiar's Fly Speed increases from 25 feet to 40 feet.",
        "sourceBook": "Core Rulebook ",
        "_extensionFileName": "core",
        "subType": "Fly",
        "superType": "Fast Movement",
        "traits": [
            "Familiar Ability"
        ],
        "shortdesc": "The familiar's Fly Speed increases from 25 feet to 40 feet.",
        "specialreq": "familiar.speeds.filter(speed => speed.name == 'Fly Speed').length",
        "specialreqdesc": "Fly Speed",
        "effects": [
            {
                "affected": "Fly Speed",
                "setValue": "40"
            }
        ]
    },
    {
        "name": "Fast Movement: Land",
        "desc": "The familiar's Land Speed increases from 25 feet to 40 feet.",
        "sourceBook": "Core Rulebook ",
        "_extensionFileName": "core",
        "subType": "Land",
        "superType": "Fast Movement",
        "traits": [
            "Familiar Ability"
        ],
        "shortdesc": "The familiar's Land Speed increases from 25 feet to 40 feet.",
        "specialreq": "familiar.speeds.filter(speed => speed.name == 'Land Speed').length",
        "specialreqdesc": "Land Speed",
        "effects": [
            {
                "affected": "Land Speed",
                "setValue": "40"
            }
        ]
    },
    {
        "name": "Fast Movement: Swim",
        "desc": "The familiar's Swim Speed increases from 25 feet to 40 feet.",
        "sourceBook": "Core Rulebook ",
        "_extensionFileName": "core",
        "subType": "Swim",
        "superType": "Fast Movement",
        "traits": [
            "Familiar Ability"
        ],
        "shortdesc": "The familiar's Swim Speed increases from 25 feet to 40 feet.",
        "specialreq": "familiar.speeds.filter(speed => speed.name == 'Swim Speed').length",
        "specialreqdesc": "Swim Speed",
        "effects": [
            {
                "affected": "Swim Speed",
                "setValue": "40"
            }
        ]
    },
    {
        "name": "Flier",
        "desc": "The familiar gains a fly Speed of 25 feet.",
        "sourceBook": "Core Rulebook ",
        "_extensionFileName": "core",
        "traits": [
            "Familiar Ability"
        ],
        "shortdesc": "The familiar gains a fly Speed of 25 feet.",
        "effects": [
            {
                "affected": "Fly Speed",
                "setValue": "25"
            }
        ]
    },
    {
        "name": "Kinspeech",
        "desc": "The familiar can understand and speak with animals of the same species. To select this, your familiar must be an animal, it must have the speech ability, and you must be at least 6th level.",
        "sourceBook": "Core Rulebook ",
        "_extensionFileName": "core",
        "levelreq": 6,
        "traits": [
            "Familiar Ability"
        ],
        "shortdesc": "The familiar can understand and speak with animals of the same species. To select this, your familiar must be an animal, it must have the speech ability, and you must be at least 6th level.",
        "specialreq": "!Has_Feat('Character', 'Leshy Familiar')",
        "specialreqdesc": "animal familiar",
        "featreq": [
            "Familiar:Speech"
        ]
    },
    {
        "name": "Lab Assistant",
        "desc": "The familiar can use your Quick Alchemy action. You must have Quick Alchemy, and your familiar must be in your space. This has the same cost and requirement as if you used it. It must have the manual dexterity ability to select this.",
        "sourceBook": "Core Rulebook ",
        "_extensionFileName": "core",
        "traits": [
            "Familiar Ability"
        ],
        "shortdesc": "The familiar can use your Quick Alchemy action. You must have Quick Alchemy, and your familiar must be in your space. This has the same cost and requirement as if you used it. It must have the manual dexterity ability to select this.",
        "featreq": [
            "Quick Alchemy"
        ]
    },
    {
        "name": "Manual Dexterity",
        "desc": "The familiar can use up to two of its limbs as if they were hands to use manipulate actions.",
        "sourceBook": "Core Rulebook ",
        "_extensionFileName": "core",
        "traits": [
            "Familiar Ability"
        ],
        "shortdesc": "The familiar can use up to two of its limbs as if they were hands to use manipulate actions."
    },
    {
        "name": "Scent",
        "desc": "The familiar gains scent (imprecise, 30 feet).",
        "sourceBook": "Core Rulebook ",
        "_extensionFileName": "core",
        "traits": [
            "Familiar Ability"
        ],
        "shortdesc": "The familiar gains scent (imprecise, 30 feet).",
        "senses": [
            "Scent 30 feet (imprecise)"
        ]
    },
    {
        "name": "Speech",
        "desc": "The familiar understands and speaks a language you know.",
        "sourceBook": "Core Rulebook ",
        "_extensionFileName": "core",
        "traits": [
            "Familiar Ability"
        ],
        "shortdesc": "The familiar understands and speaks a language you know."
    },
    {
        "name": "Cantrip Connection",
        "desc": "You can prepare an additional cantrip, or if you have a repertoire, instead designate a cantrip to add to your repertoire every time you select this ability; you can retrain it but can't otherwise change it. You must be able to prepare cantrips or add them to your repertoire to select this.",
        "sourceBook": "Core Rulebook ",
        "_extensionFileName": "core",
        "traits": [
            "Master Ability"
        ],
        "internalNote": "Hardcoded in feat processing",
        "shortdesc": "You can prepare an additional cantrip, or if you have a repertoire, instead designate a cantrip to add to your repertoire every time you select this ability; you can retrain it but can't otherwise change it. You must be able to prepare cantrips or add them to your repertoire to select this.",
        "specialreq": "character.class.spellCasting.some(casting => ['Spontaneous','Prepared'].includes(casting.castingType) && casting.charLevelAvailable <= character.level && casting.spellChoices.some(choice => choice.level >= 0))",
        "specialreqdesc": "cantrips"
    },
    {
        "name": "Extra Reagents",
        "desc": "Your familiar grows extra infused reagents on or in its body. You gain an additional batch of infused reagents. You must have the infused reagents ability to select this ability.",
        "sourceBook": "Core Rulebook ",
        "_extensionFileName": "core",
        "traits": [
            "Master Ability",
            "Concentrate"
        ],
        "internalNote": "####### Reagents are not implemented yet ######",
        "shortdesc": "Your familiar grows extra infused reagents on or in its body. You gain an additional batch of infused reagents. You must have the infused reagents ability to select this ability.",
        "effects": [
            {
                "affected": "Max Infused Reagents",
                "value": "1"
            }
        ],
        "featreq": [
            "Infused Reagents"
        ]
    },
    {
        "name": "Familiar Focus",
        "desc": "Once per day, your familiar can use 2 actions with the concentrate trait to regain 1 Focus Point, up to your usual maximum. You must have a focus pool to select this.\n\n(This shows up on your activity list.)",
        "sourceBook": "Core Rulebook ",
        "_extensionFileName": "core",
        "traits": [
            "Master Ability"
        ],
        "shortdesc": "Once per day, your familiar can use 2 actions with the concentrate trait to regain 1 Focus Point, up to your usual maximum. You must have a focus pool to select this.",
        "specialreq": "character.class.spellCasting.filter(casting => casting.castingType == 'Focus' && casting.charLevelAvailable <= character.level).length",
        "specialreqdesc": "Focus Pool",
        "gainActivities": [
            "Familiar Focus"
        ]
    },
    {
        "name": "Lifelink",
        "desc": "If your familiar would be reduced to 0 HP by damage, as a reaction with the concentrate trait, you can take the damage. If you do, you take all the damage and your familiar takes none. However, if special effects when a hit damages your familiar (such as snake venom) still apply to your familiar.",
        "sourceBook": "Core Rulebook ",
        "_extensionFileName": "core",
        "traits": [
            "Master Ability"
        ],
        "shortdesc": "If your familiar would be reduced to 0 HP by damage, as a reaction with the concentrate trait, you can take the damage. If you do, you take all the damage and your familiar takes none. However, if special effects when a hit damages your familiar (such as snake venom) still apply to your familiar.",
        "gainActivities": [
            "Lifelink"
        ]
    },
    {
        "name": "Spell Battery",
        "desc": "You gain one additional spell slot at least 3 levels lower than your highest-level spell slot; you must be able to cast 4th-level spells using spell slots to select this master ability.",
        "sourceBook": "Core Rulebook ",
        "_extensionFileName": "core",
        "traits": [
            "Master Ability"
        ],
        "internalNote": "Hardcoded in feat processing",
        "shortdesc": "You gain one additional spell slot at least 3 levels lower than your highest-level spell slot; you must be able to cast 4th-level spells using spell slots to select this master ability.",
        "specialreq": "character.class.spellCasting.find(casting => ['Spontaneous','Prepared'].includes(casting.castingType) && casting.className == characterService.get_Familiar().originClass && casting.charLevelAvailable <= character.level && casting.spellChoices.find(choice => choice.charLevelAvailable <= character.level && choice.level >= 4))",
        "specialreqdesc": "ability to cast 4th-level spells using spell slots"
    },
    {
        "name": "Spell Delivery",
        "desc": "If your familiar is in your space, you can cast a spell with a range of touch, transfer its power to your familiar, and command the familiar to deliver the spell. If you do, the familiar uses its 2 actions for the round to move to a target of your choice and touch that target. If it doesn't reach the target to touch it this turn, the spell has no effect.",
        "sourceBook": "Core Rulebook ",
        "_extensionFileName": "core",
        "traits": [
            "Master Ability"
        ],
        "shortdesc": "If your familiar is in your space, you can cast a spell with a range of touch, transfer its power to your familiar, and command the familiar to deliver the spell. If you do, the familiar uses its 2 actions for the round to move to a target of your choice and touch that target. If it doesn't reach the target to touch it this turn, the spell has no effect."
    }
]
